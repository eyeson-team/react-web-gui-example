{"version":3,"sources":["Toolbar.js","logo.png","Video.js","SettingsDialog.js","App.js","index.js"],"names":["Toolbar","title","fixed","alignStart","src","alt","className","alignEnd","tag","target","rel","href","unelevated","Video","initVideo","video","srcObject","props","stream","ref","this","playsInline","autoPlay","Component","getSelectedDeviceId","type","tracks","length","getSettings","deviceId","error","console","mapDeviceList","device","value","label","SettingsDialog","open","onClose","deviceManager","useRef","videoElement","useState","cameras","setCameras","microphones","setMicrophones","selectedMicrophone","setSelectedMicrophone","selectedCamera","setSelectedCamera","useEffect","handleChange","event","debug","map","microphoneId","cameraId","current","DeviceManager","onChange","start","removeListener","stop","id","updateStream","detail","action","storeConstraints","muted","options","currentTarget","setAudioInput","setVideoInput","outlined","isDefaultAction","App","state","localStream","remoteStream","connecting","audio","screen","settingsDialog","toastMessage","handleEvent","eyeson","send","setState","name","endSession","toggleAudio","audioEnabled","StreamHelpers","toggleVideo","videoEnabled","toggleScreen","screenStream","showSettings","closeSettings","handleToastClose","key","trim","offEvent","destroy","onEvent","primary","secondary","span","disabled","style","width","helpText","persistent","children","checked","onClick","icon","message","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch"],"mappings":"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","file":"static/js/main.6e997db4.chunk.js","sourcesContent":["import logo from './logo.png';\nimport { TopAppBar, TopAppBarRow, TopAppBarSection, TopAppBarTitle, TopAppBarFixedAdjust } from '@rmwc/top-app-bar';\nimport { Button } from '@rmwc/button';\nimport './Toolbar.css';\n\nconst Toolbar = ({ title }) => (\n  <>\n    <TopAppBar fixed>\n      <TopAppBarRow>\n        <TopAppBarSection alignStart>\n          <img src={logo} alt=\"eyeson Logo\" className=\"Toolbar-logo\" />\n          <TopAppBarTitle>{title}</TopAppBarTitle>\n        </TopAppBarSection>\n        <TopAppBarSection alignEnd>\n          <Button\n            tag=\"a\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n            href=\"https://twitter.com/eyeson_team\"\n            unelevated>\n            Twitter\n          </Button>\n          <Button\n            tag=\"a\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n            href=\"https://github.com/eyeson-team\"\n            unelevated>\n            GitHub\n          </Button>\n        </TopAppBarSection>\n      </TopAppBarRow>\n    </TopAppBar>\n    <TopAppBarFixedAdjust />\n  </>\n);\n\nexport default Toolbar;\n","export default \"data:image/png;base64,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\"","import { Component } from 'react';\nimport './Video.css';\n\nclass Video extends Component {\n  \n  shouldComponentUpdate() {\n    return false; // disable updates\n  }\n\n  initVideo = video => {\n    if (video) {\n      video.srcObject = this.props.stream;\n    }\n  };\n\n  render() {\n    return (\n      <video className=\"Video\" ref={this.initVideo} playsInline autoPlay />\n    );\n  }\n}\n\nexport default Video;\n","import { useEffect, useRef, useState } from 'react';\nimport { DeviceManager } from 'eyeson';\nimport { Select } from '@rmwc/select';\nimport { Dialog, DialogTitle, DialogContent, DialogActions, DialogButton } from '@rmwc/dialog';\nimport './SettingsDialog.css';\n\nconst getSelectedDeviceId = (stream, type) => {\n    try {\n        const tracks = stream[`get${type}Tracks`]();\n        if (tracks.length > 0) {\n            const settings = tracks[0].getSettings();\n            return settings.deviceId;\n        }\n    } catch (error) {\n        console.error(error);\n    }\n    return null;\n};\n\nconst mapDeviceList = device => ({ value: device.deviceId, label: device.label });\n\nconst SettingsDialog = ({ open, onClose }) => {\n    \n    const deviceManager = useRef();\n    const videoElement = useRef();\n    const [cameras, setCameras] = useState([]);\n    const [microphones, setMicrophones] = useState([]);\n    const [selectedMicrophone, setSelectedMicrophone] = useState();\n    const [selectedCamera, setSelectedCamera] = useState();\n\n    const handleClose = event => {\n        let updateStream = false;\n        if (event.detail.action === 'apply') {\n            deviceManager.current.storeConstraints();\n            updateStream = true;\n        }\n        onClose(updateStream);\n    };\n\n    const changeMicrophone = event => {\n        const deviceId = event.currentTarget.value;\n        if (deviceManager.current && deviceId) {\n            setSelectedMicrophone(deviceId);\n            deviceManager.current.setAudioInput(deviceId);\n        }\n    };\n\n    const changeCamera = event => {\n        const deviceId = event.currentTarget.value;\n        if (deviceManager.current && deviceId) {\n            setSelectedCamera(deviceId);\n            deviceManager.current.setVideoInput(deviceId);\n        }\n    };\n\n    useEffect(() => {\n        const handleChange = event => {\n            const { error, stream, microphones, cameras } = event;\n            console.debug(event);\n            if (error) {\n                console.error(error);\n                return;\n            }\n            if (microphones) {\n                setMicrophones(microphones.map(mapDeviceList));\n            }\n            if (cameras) {\n                setCameras(cameras.map(mapDeviceList));\n            }\n            if (stream) {\n                const microphoneId = getSelectedDeviceId(stream, 'Audio');\n                const cameraId = getSelectedDeviceId(stream, 'Video');\n                videoElement.current.srcObject = event.stream;\n                setSelectedMicrophone(microphoneId);\n                setSelectedCamera(cameraId);\n            }\n        };\n        if (open) {\n            deviceManager.current = new DeviceManager();\n            deviceManager.current.onChange(handleChange);\n            deviceManager.current.start();\n        }\n        else if (deviceManager.current) {\n            deviceManager.current.removeListener(handleChange);\n            deviceManager.current.stop();\n            deviceManager.current = null;\n            videoElement.current.srcObject = null;\n        }\n    }, [open]);\n\n    return (\n        <Dialog\n            id=\"SettingsDialog\"\n            open={open}\n            onClose={handleClose}\n        >\n            <DialogTitle>Devices</DialogTitle>\n            <DialogContent>\n                <video ref={videoElement} playsInline autoPlay muted />\n                <Select\n                    label=\"Microphone\"\n                    value={selectedMicrophone}\n                    options={microphones}\n                    onChange={changeMicrophone}\n                />\n                <Select\n                    label=\"Camera\"\n                    value={selectedCamera}\n                    options={cameras}\n                    onChange={changeCamera}\n                />\n            </DialogContent>\n            <DialogActions>\n                <DialogButton outlined action=\"close\">Cancel</DialogButton>\n                <DialogButton unelevated action=\"apply\" isDefaultAction>Apply</DialogButton>\n            </DialogActions>\n        </Dialog>\n    );\n};\n\nexport default SettingsDialog;\n","import { Component, Fragment } from 'react';\nimport { TextField } from '@rmwc/textfield';\nimport { IconButton } from '@rmwc/icon-button';\nimport { ThemeProvider } from '@rmwc/theme';\nimport { Grid, GridCell } from '@rmwc/grid';\nimport { LinearProgress } from '@rmwc/linear-progress';\nimport { Snackbar } from '@rmwc/snackbar';\nimport eyeson, { StreamHelpers } from 'eyeson';\nimport Toolbar from './Toolbar';\nimport Video from './Video';\nimport SettingsDialog from './SettingsDialog';\nimport './App.css';\n\nconst ACCESS_KEY_LENGTH = 24;\n\nclass App extends Component {\n  \n  state = {\n    localStream: null,\n    remoteStream: null,\n    connecting: false,\n    audio: true,\n    video: true,\n    screen: false,\n    settingsDialog: false,\n    toastMessage: ''\n  };\n\n  componentDidMount() {\n    eyeson.onEvent(this.handleEvent);\n  }\n\n  handleEvent = event => {\n    const { type } = event;\n    console.debug(type, event);\n    if (type === 'presentation_ended') {\n      eyeson.send({\n        type: 'start_stream',\n        audio: this.state.audio,\n        video: this.state.video\n      });\n      this.setState({ screen: false });\n      return;\n    }\n    if (type === 'accept') {\n      this.setState({\n        localStream: event.localStream,\n        remoteStream: event.remoteStream,\n        connecting: false\n      });\n      return;\n    }\n    if (type === 'warning') {\n      this.setState({ toastMessage: 'Warning: ' + event.name });\n      return;\n    }\n    if (type === 'error') {\n      this.setState({ toastMessage: 'Error: ' + event.name });\n      this.endSession();\n      return;\n    }\n    if (type === 'exit') {\n      this.setState({ toastMessage: 'Meeting has ended' });\n      this.endSession();\n      return;\n    }\n    console.debug('[App]', 'Ignore received event:', event.type);\n  };\n\n  toggleAudio = () => {\n    const { audio, localStream } = this.state;\n    const audioEnabled = !audio;\n    StreamHelpers.toggleAudio(localStream, audioEnabled);\n    this.setState({ audio: audioEnabled });\n  };\n\n  toggleVideo = () => {\n    const { audio, video, localStream } = this.state;\n    const videoEnabled = !video;\n    eyeson.send({\n      type: 'change_stream',\n      stream: localStream,\n      video: videoEnabled,\n      audio: audio\n    });\n    this.setState({ video: videoEnabled });\n  };\n\n  toggleScreen = () => {\n    if (!this.state.screen) {\n      eyeson.send({\n        type: 'start_screen_capture',\n        audio: this.state.audio,\n        screenStream: null,\n        screen: true\n      });\n      this.setState({ screen: true });\n    } else {\n      eyeson.send({ type: 'stop_presenting' });\n    }\n  };\n\n  showSettings = () => {\n    this.setState({ settingsDialog: true });\n  };\n\n  closeSettings = (updateStream = false) => {\n    this.setState({ settingsDialog: false });\n    if (updateStream && !this.state.screen) {\n      eyeson.send({\n        type: 'start_stream',\n        audio: this.state.audio,\n        video: this.state.video\n      });\n    }\n  };\n\n  handleToastClose = () => {\n    this.setState({ toastMessage: '' });\n  };\n\n  start = event => {\n    const key = event.target.value.trim();\n    if (key.length !== ACCESS_KEY_LENGTH) {\n      return;\n    }\n    this.setState({ connecting: true });\n    eyeson.start(key);\n  };\n\n  endSession = () => {\n    eyeson.offEvent(this.handleEvent);\n    eyeson.destroy();\n    this.setState({\n      localStream: null,\n      remoteStream: null,\n      connecting: false\n    });\n    eyeson.onEvent(this.handleEvent);\n  };\n\n  render() {\n    const { connecting, remoteStream, audio, video, screen, toastMessage } = this.state;\n    return (\n      <ThemeProvider options={{primary: '#9e206c', secondary: '#6d6d6d'}}>\n        <Toolbar title=\"Web GUI React App\" />\n        <Grid className=\"App\">\n          <GridCell span=\"12\">\n            {connecting && <LinearProgress />}\n          </GridCell>\n          <GridCell span=\"11\">\n            {!remoteStream && (\n              <Fragment>\n                <TextField\n                  label=\"Meeting Access Key\"\n                  disabled={connecting}\n                  style={{width: '20rem'}}\n                  onChange={this.start}\n                  helpText={{\n                    persistent: true,\n                    children: \"Get an user access key from starting a meeting via the API or use one from an active meeting.\"\n                  }}\n                />\n              </Fragment>\n            )}\n            {remoteStream && <Video stream={remoteStream} />}\n          </GridCell>\n          <GridCell span=\"1\" className=\"App-sidebar\">\n            {remoteStream && (\n              <Fragment>\n                <IconButton\n                  checked={audio}\n                  onClick={this.toggleAudio}\n                  label=\"Toggle audio\"\n                  icon={audio ? 'mic' : 'mic_off'}\n                />\n                <IconButton\n                  checked={video}\n                  disabled={screen}\n                  onClick={this.toggleVideo}\n                  label=\"Toggle video\"\n                  icon={video ? 'videocam' : 'videocam_off'}\n                />\n                <IconButton\n                  checked={screen}\n                  onClick={this.toggleScreen}\n                  label=\"Share screen\"\n                  icon={screen ? 'stop_screen_share' : 'screen_share'}\n                />\n                <IconButton\n                  disabled={screen}\n                  onClick={this.showSettings}\n                  label=\"Settings\"\n                  icon=\"settings\"\n                />\n                <IconButton\n                  onClick={this.endSession}\n                  label=\"Leave Meeting\"\n                  icon=\"logout\"\n                />\n              </Fragment>\n            )}\n          </GridCell>\n        </Grid>\n        <SettingsDialog\n          open={this.state.settingsDialog}\n          onClose={this.closeSettings}\n        />\n        <Snackbar\n          open={toastMessage !== ''}\n          message={toastMessage}\n          onClose={this.handleToastClose}\n        />\n      </ThemeProvider>\n    );\n  }\n}\n\nexport default App;\n","import ReactDOM from 'react-dom';\nimport 'rmwc/dist/styles';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// remove discontinued service worker installations\nif ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then((registration) => {\n        registration.unregister();\n    }).catch((error) => {\n        console.error(error.message);\n    });\n}\n"],"sourceRoot":""}